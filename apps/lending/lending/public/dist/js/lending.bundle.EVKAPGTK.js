(()=>{frappe.provide("lending.common");lending.common={setup_filters:function(o){frappe.ui.form.on(o,{refresh:function(e){["Loan Disbursement","Loan Repayment","Loan Interest Accrual","Loan Write Off"].includes(e.doc.doctype)&&e.doc.docstatus>0&&cur_frm.add_custom_button(__("Accounting Ledger"),function(){frappe.route_options={voucher_no:e.doc.name,from_date:e.doc.posting_date,to_date:e.doc.posting_date,company:e.doc.company,group_by:"Group by Voucher (Consolidated)",show_cancelled_entries:e.doc.docstatus===2},frappe.set_route("query-report","General Ledger")},__("View")),erpnext.hide_company(),e.trigger("set_company_filter")},applicant_type:function(e){e.trigger("set_company_filter")},set_company_filter:function(e){["Loan Application","Loan"].includes(e.doc.doctype)&&(e.doc.applicant_type==="Employee"?e.set_query("applicant",function(){return{filters:{company:e.doc.company}}}):e.set_query("applicant",function(){return{filters:{docstatus:0}}}))},applicant:function(e){!["Loan Application","Loan"].includes(e.doc.doctype)||(e.doc.applicant?frappe.model.with_doc(e.doc.applicant_type,e.doc.applicant,function(){var n=frappe.model.get_doc(e.doc.applicant_type,e.doc.applicant);e.set_value("applicant_name",n.employee_name||n.member_name)}):e.set_value("applicant_name",null))}})}};})();
//# sourceMappingURL=lending.bundle.EVKAPGTK.js.map
